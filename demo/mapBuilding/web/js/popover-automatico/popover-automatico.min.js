(function(e){e.fn.popoverAuto=function(t){var n={openEvent:null,closeEvent:null,offsetX:0,offsetY:0};var t=e.extend(n,t);var r=e(t.header).detach();var i=e(t.content).detach();var s=e('<div class="white_overlay"></div>').appendTo("body");var o=e('<div class="popover">'+'<div class="content"></div>'+"</div>").appendTo("body");e(".header",o).append(r);e(".content",o).append(i);var u=function(n){if(e.fn.popoverAuto.openedPopup===n){e.fn.popoverAuto.openedPopup.trigger("hidePopover");return false}else if(e.fn.popoverAuto.openedPopup!=null){e.fn.popoverAuto.openedPopup.trigger("hidePopover")}o.css("display","block");s.css("display","block");var r=0;var i=0;var u=e(document).width();var a=e(document).height();var f=o.outerWidth();var l=o.outerHeight();var c=n.outerWidth();var h=n.outerHeight();var p=n.offset();var d=18;i=(a-l)/2;var v=a-(i+l);if(v<0){o.height(o.height())}r=(u-f)/2;var m=0;if(r<d){m=r-d}else if(r+f>u){m=r+f-u+d}o.offset({top:i+t.offsetY,left:r-m+t.offsetX});o.show();window.setTimeout(function(){o.addClass("active");e(window).resize()},0);if(e.isFunction(t.openEvent))t.openEvent();e.fn.popoverAuto.openedPopup=n;n.addClass("popover-on");return false};this.each(function(){var n=e(this);n.addClass("popover-button");u(n);window.setTimeout(function(){n.removeClass("popover-on");o.removeClass("active").attr("style","").css("display","none");s.css("display","none");if(e.isFunction(t.closeEvent)){t.closeEvent()}e.fn.popoverAuto.openedPopup=null;window.setTimeout(function(){e(window).resize()},0);return false},5e3)})}})(jQuery)